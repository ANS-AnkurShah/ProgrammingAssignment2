for (i in id) {
data<-rbind(data,read.csv(files[i]))
}
mean(data$pollutant,na.rm=TRUE)
}
pollutantmean(directory,'sulfate',1:10)
pollutantmean<-function(directory,pollutant,id) {
files<-list.files(directory,full.names=TRUE)
for (i in id) {
data<-rbind(data,read.csv(files[i]))
}
mean(data$pollutant,na.rm=TRUE)
}
pollutantmean('specdata','sulfate',1:10)
pollutantmean('~/Desktop/specdata','sulfate',1:10)
files<-list.files('~/Desktop/specdata',full.names=TRUE)
data<-rbind(data,read.csv(files[2]))
data<-data.frame()
data<-rbind(data,read.csv(files[2]))
data<-rbind(data,read.csv(files[3]))
data<-rbind(data,read.csv(files[4]))
mean(data$sulfate,na.rm=TRUE)
pollutantmean<-function(directory,pollutant,id) {
files<-list.files(directory,full.names=TRUE)
data<-data.frame()
for (i in id) {
data<-rbind(data,read.csv(files[i]))
}
mean(data$pollutant,na.rm=TRUE)
}
pollutantmean('~/Desktop/specdata','sulfate',1:10)
pollutantmean('~/Desktop/specdata',sulfate,1:10)
data$sulfate
mean(data$sulfate,na.rm=TRUE)
pollutantmean<-function(directory,pollutant,id) {
files<-list.files(directory,full.names=TRUE)
data<-data.frame()
for (i in id) {
data<-rbind(data,read.csv(files[i]))
}
mean(data$pollutant,na.rm=TRUE)
}
pollutantmean('~/Desktop/specdata',sulfate,331)
files
rm(files)
pollutantmean<-function(directory,pollutant,id) {
files<-list.files(directory,full.names=TRUE)
data<-data.frame()
for (i in id) {
data<-rbind(data,read.csv(files[i]))
}
mean(data$pollutant,na.rm=TRUE)
}
pollutantmean('~/Desktop/specdata',sulfate,331)
files
pollutantmean<-function(directory,pollutant,id) {
files<-list.files(directory,full.names=TRUE)
data<-data.frame()
for (i in id) {
data<-rbind(data,read.csv(files[i]))
}
##mean(data$pollutant,na.rm=TRUE)
}
pollutantmean('~/Desktop/specdata',sulfate,331)
mean(data$pollutant,na.rm=TRUE)
mean(data$sulfate,na.rm=TRUE)
pollutantmean<-function(directory,pollutant,id) {
files<-list.files(directory,full.names=TRUE)
data<-data.frame()
for (i in id) {
data<-rbind(data,read.csv(files[i]))
}
mean(data$[,pollutant],na.rm=TRUE)
}
pollutantmean<-function(directory,pollutant,id) {
files<-list.files(directory,full.names=TRUE)
data<-data.frame()
for (i in id) {
data<-rbind(data,read.csv(files[i]))
}
mean(data[,pollutant],na.rm=TRUE)
}
pollutantmean('~/Desktop/specdata',sulfate,1:10)
pollutantmean('~/Desktop/specdata','sulfate',1:10)
pollutantmean('~/Desktop/specdata','nitrate',70:72)
pollutantmean('~/Desktop/specdata','sulfate',34)
pollutantmean('~/Desktop/specdata','nitrate)
fsd
34
>
pollutantmean<-function(directory,pollutant,id) {
files<-list.files(directory,full.names=TRUE)
data<-data.frame()
for (i in id) {
data<-rbind(data,read.csv(files[i]))
}
mean(data[,pollutant],na.rm=TRUE)
}
pollutantmean<-function(directory,pollutant,id) {
files<-list.files(directory,full.names=TRUE)
data<-data.frame()
for (i in id) {
data<-rbind(data,read.csv(files[i]))
}
mean(data[,pollutant],na.rm=TRUE)
}
pollutant('~/Desktop/specdata','nitrate',1:332)
pollutantmean('~/Desktop/specdata','nitrate',1:332)
complete<-function(directory,id) {
files<-list.files(directory,full.names=TRUE)
frame_1<-data.frame()
for (i in id) {
data<-read.csv(files[i]))
nobs<-sum(complete.cases(data))
frame_2<-data.frame(i,nobs)
frame_3<-rbind(frame_1,frame_2)
}
colnames(frame_3)<-c('filename','number of complete cases')
frame_3
}
complete<-function(directory,id) {
files<-list.files(directory,full.names=TRUE)
d<-data.frame()
for (i in id) {
data<-read.csv(files[i]))
nobs<-sum(complete.cases(data))
e<-data.frame(i,nobs)
ff<-rbind(d,e)
}
colnames(ff)<-c('filename','number of complete cases')
ff
}
complete<-function(directory,id) {
files<-list.files(directory,full.names=TRUE)
d<-data.frame()
for (i in id) {
data<-read.csv(files[i])
nobs<-sum(complete.cases(data))
e<-data.frame(i,nobs)
ff<-rbind(d,e)
}
colnames(ff)<-c('filename','number of complete cases')
ff
}
cc<-complete('~/Desktop/specdata',c(6,10,20,34,100,200,310))
print(cc$nobs)
print(cc$nobs,na.rm=TRUE)
cc<-complete('~/Desktop/specdata',6)
print(cc$nobs)
files<-list.files('~/Desktop/specdata',full.names=TRUE)
d<-data.frame()
data<-read.csv(files[6])
nobs<-sum(complete.cases(data))
nobs
e<-data.frame(i,nobs)
e<-data.frame(6,nobs)
ff<-rbind(d,e)
colnames(ff)<-c('filename','number of complete cases')
ff
data<-read.csv(files[10])
nobs<-sum(complete.cases(data))
e<-data.frame(10,nobs)
ff<-rbind(d,e)
colnames(ff)<-c('filename','number of complete cases')
FF
ff
cc<-complete('~/Desktop/specdata',54)
print(cc$nobs)
files<-list.files(directory,full.names=TRUE)
files<-list.files('~/Desktop/specdata'',full.names=TRUE)
files<-list.files(directory,full.names=TRUE)
files<-list.files('~/Desktop/specdata',full.names=TRUE)
d<-data.frame()
data<-read.csv(files[i])
data<-read.csv(files[54])
nobs<-sum(complete.cases(data))
nobs
ff<-rbind(d,e)
e<-data.frame(54,nobs)
ff<-rbind(d,e)
colnames(ff)<-c('filename','number of complete cases')
FF
f
ff
complete('~/Desktop/specdata',54)
complete<-function(directory,id) {
files<-list.files(directory,full.names=TRUE)
d<-data.frame()
for (i in id) {
data<-read.csv(files[i])
nobs<-sum(complete.cases(data))
e<-data.frame(i,nobs)
ff<-rbind(d,e)
}
colnames(ff)<-c('filename','number of complete cases')
ff
}
complete('~/Desktop/specdata',54)
complete('~/Desktop/specdata',c(6,10,20,34,100,200,310))
complete<-function(directory,id) {
files<-list.files(directory,full.names=TRUE)
d<-data.frame()
for (i in id) {
data<-read.csv(files[i])
nobs<-sum(complete.cases(data))
e<-data.frame(i,nobs)
ff<-rbind(e)
}
colnames(ff)<-c('filename','number of complete cases')
ff
}
complete('~/Desktop/specdata',c(6,10,20,34,100,200,310))
complete<-function(directory,id) {
files<-list.files(directory,full.names=TRUE)
for (i in id) {
data<-read.csv(files[i])
nobs<-sum(complete.cases(data))
e<-data.frame(i,nobs)
ff<-rbind(e)
}
colnames(ff)<-c('filename','number of complete cases')
ff
}
complete('~/Desktop/specdata',c(6,10,20,34,100,200,310))
complete<-function(directory,id) {
files<-list.files(directory,full.names=TRUE)
for (i in id) {
data<-read.csv(files[i])
nobs<-sum(complete.cases(data))
##e<-data.frame(i,nobs)
ff<-cbind(i,nobs)
}
colnames(ff)<-c('filename','number of complete cases')
ff
}
complete('~/Desktop/specdata',c(6,10,20,34,100,200,310))
complete<-function(directory,id) {
files<-list.files(directory,full.names=TRUE)
for (i in id) {
data<-read.csv(files[i])
nobs<-sum(complete.cases(data))
##e<-data.frame(i,nobs)
ff<-data.frame(cbind(i,nobs))
}
colnames(ff)<-c('filename','number of complete cases')
ff
}
complete('~/Desktop/specdata',c(6,10,20,34,100,200,310))
complete<-function(directory,id) {
files<-list.files(directory,full.names=TRUE)
d<-data.frame()
for (i in id) {
data<-read.csv(files[i])
nobs<-sum(complete.cases(data))
ff<-cbind(d,i,nobs)
}
colnames(ff)<-c('filename','number of complete cases')
ff
}
complete('~/Desktop/specdata',c(6,10,20,34,100,200,310))
complete<-function(directory,id) {
files<-list.files(directory,full.names=TRUE)
d<-data.frame()
for (i in id) {
data<-read.csv(files[i])
nobs<-sum(complete.cases(data))
ff<-cbind(d,c(i,nobs))
}
colnames(ff)<-c('filename','number of complete cases')
ff
}
complete('~/Desktop/specdata',c(6,10,20,34,100,200,310))
corr<-function(directory,threshold){
files<-list.files(directory,full.names=TRUE)
vector<-vector(mode='numeric')
for (i in 1:length(files)){
data<-read.csv(files[i])
sum<-sum((!is.na(data$sulfate)) & (!is.na(data$nitrate)))
if (sum>threshold){
comp_sul<-data$sulfate[!is.na(data$sulfate)]
comp_nit<-data$nitrate[!is.na(data$nitrate)]
vector<-c(vector,cor(comp_sul,comp_nit))
}
}
vector
}
cr<-corr('~/Desktop/specdata',150)
corr<-function(directory,threshold){
files<-list.files(directory,full.names=TRUE)
vector<-vector(mode='numeric',length=0)
for (i in 1:length(files)){
data<-read.csv(files[i])
sum<-sum((!is.na(data$sulfate)) & (!is.na(data$nitrate)))
if (sum>threshold){
comp_sul<-data$sulfate[!is.na(data$sulfate)]
comp_nit<-data$nitrate[!is.na(data$nitrate)]
vector<-c(vector,cor(comp_sul,comp_nit))
}
}
vector
}
cr<-corr('~/Desktop/specdata',150)
files<-list.files(directory,full.names=TRUE)
files<-list.files('~/Desktop/specdata'',full.names=TRUE)
files<-list.files('~/Desktop/specdata',full.names=TRUE)
vector<-vector(mode='numeric',length=0)
data<-read.csv(files[54])
sum<-sum((!is.na(data$sulfate)) & (!is.na(data$nitrate)))
comp_sul<-data$sulfate[!is.na(data$sulfate)]
comp_sul
comp_nit<-data$nitrate[!is.na(data$nitrate)]
vector<-c(vector,cor(comp_sul,comp_nit))
vector<-cor(comp_sul,comp_nit)
vector<-corr(comp_sul,comp_nit)
comp_nit
sum
comp<-data((!is.na(data$sulfate)) & (!is.na(data$nitrate)))
comp<-data[(!is.na(data$sulfate)) & (!is.na(data$nitrate))]
comp<-data[!is.na(data)]
sum(comp)
comp_sum<sum(data[!is.na(data)])
comp_sum<sum(!is.na(data))
comp
comp<-complete.cases(data)
data[comp,]
corr<-function(directory,threshold){
files<-list.files(directory,full.names=TRUE)
vector<-vector(mode='numeric',length=0)
for (i in 1:length(files)){
data<-read.csv(files[i])
sum<-sum((!is.na(data$sulfate)) & (!is.na(data$nitrate)))
if (sum>threshold){
comp<-complete.cases(data)
vector<-c(vector,cor(comp$sulfate,comp$nitrate))
}
}
vector
}
cr<-corr('~/Desktop/specdata',150)
files<-list.files('~/Desktop/specdata',full.names=TRUE)
vector<-vector(mode='numeric',length=0)
data<-read.csv(files[i])
data<-read.csv(files[54])
sum<-sum((!is.na(data$sulfate)) & (!is.na(data$nitrate)))
sum
comp<-complete.cases(data)
vector<-c(vector,cor(comp$sulfate,comp$nitrate))
comp$sulfate
comp
comp<-complete.cases(data)
comp
data[comp,]
data[comp,]$sulfate
comp<-complete.cases(data)
vector<-c(vector,cor(data[comp,]$sulfate,data[comp,]$nitrate))
vector
corr<-function(directory,threshold){
files<-list.files(directory,full.names=TRUE)
vector<-vector(mode='numeric',length=0)
for (i in 1:length(files)){
data<-read.csv(files[i])
sum<-sum((!is.na(data$sulfate)) & (!is.na(data$nitrate)))
if (sum>threshold){
comp<-complete.cases(data)
vector<-c(vector,cor(data[comp,]$sulfate,data[comp,]$nitrate))
}
}
vector
}
cr<-corr('~/Desktop/specdata',150)
head(cr)
cr<-corr('~/Desktop/specdata',129)
cr<-sort(cr)
n<-length(cr)
set.seed(197)
out<-c(n,round(cr[sample(n,5)],4))
print(out)
cr<-corr('~/Desktop/specdata',2000)
n<-length(r)
n<-length(cr)
cr<-corr('~/Desktop/specdata',1000)
cr<-sort(cr)
print(c(n,round(cr,4)))
pollutantmean<-function(directory,pollutant,id) {
files<-list.files(directory,full.names=TRUE)
data<-data.frame()
for (i in id) {
data<-rbind(data,read.csv(files[i]))
}
mean(data[,pollutant],na.rm=TRUE)
}
pollutantmean('~/Desktop/specdata','sulfate',1:10)
pollutantmean('~/Desktop/specdata','nitrate',70:72)
pollutantmean('~/Desktop/specdata','sulfate',34)
files<-list.files('~/Desktop/specdata',full.names=TRUE)
data<-read.csv(files[6])
nobs<-sum(complete.cases(data))
nobs
complete<-function(directory,id) {
files<-list.files(directory,full.names=TRUE)
for (i in id) {
data<-read.csv(files[i])
nobs<-sum(complete.cases(data))
ff<-cbind(i,nobs)
}
colnames(ff)<-c('filename','number of complete cases')
ff
}
cc<-complete('~/Desktop/specdata',54)
print(cc$nobs)
data<-read.csv(files[54])
nobs<-sum(complete.cases(data))
nobs
complete<-function(directory,id) {
files<-list.files(directory,full.names=TRUE)
for (i in id) {
data<-read.csv(files[i])
nobs<-sum(complete.cases(data))
ff<-cbind(i,nobs)
}
colnames(ff)<-c('filename','number of complete cases')
ff
}
set.seed(42)
cc<-complete('~/Desktop/specdata',332:1)
use<-sample(332,10)
print(cc[use,'nobs'])
use
cc
corr<-function(directory,threshold){
files<-list.files(directory,full.names=TRUE)
vector<-vector(mode='numeric',length=0)
for (i in 1:length(files)){
data<-read.csv(files[i])
sum<-sum((!is.na(data$sulfate)) & (!is.na(data$nitrate)))
if (sum>threshold){
comp<-complete.cases(data)
vector<-c(vector,cor(data[comp,]$sulfate,data[comp,]$nitrate))
}
}
vector
}
cr<-corr('~/Desktop/specdata')
corr<-function(directory,threshold=0){
files<-list.files(directory,full.names=TRUE)
vector<-vector(mode='numeric',length=0)
for (i in 1:length(files)){
data<-read.csv(files[i])
sum<-sum((!is.na(data$sulfate)) & (!is.na(data$nitrate)))
if (sum>threshold){
comp<-complete.cases(data)
vector<-c(vector,cor(data[comp,]$sulfate,data[comp,]$nitrate))
}
}
vector
}
cr<-corr('~/Desktop/specdata')
cr<-sort(cr)
set.seed(868)
out<-round(cr[sample(length(cr),5)],4)
print(out)
cr<-corr('~/Desktop/specdata',129)
cr<-sort(cr)
n<-length(cr)
set.seed(197)
out<-c(n,round(cr[sample(n,5)],4))
print(out)
pollutantmean('~/Desktop/specdata','nitrate',1:332)
cr<-corr('~/Desktop/specdata',2000)
n<-length(cr)
cr<-corr('~/Desktop/specdata',1000)
cr<-sort(cr)
print(c(n,round(cr,4)))
rm(001)
rm(dat)
rm(data)
rm(001)
rm(1)
rm(fils_full)
library(datasets)
data(iris)
?iris
iris
apply(iris,2,mean)
apply(iris,2,mean,rm.na=TRUE)
lapply(iris,function(x) colMeans(x[,c('Sepal.Length')],na.rm=TRUE))
apply(iris,2,mean,na,rm=TRUE)
sapply(iris,mean)
sapply(iris,mean,na.rm=TRUE)
apply(iris,mean)
apply(iris,2,mean)
apply(iris,1,mean)
colMeans(iris)
apply(iris[,1:4],1,mean)
apply(iris[,1:4],2,mean)
library(datasets)
data(mtcars)
mtcars
?mtcars
sapply(split(mtcars$mpg,mtcars$cyl),mean)
tapply(mtcars$cyl,mtcars$mpg,mean)
sapply(mtcars,cyl,mean)
tapply(mtcars$mpg,mtcars$cyl,mean)
mean(mtcars$mpg,mtcars$cyl)
apply(mtcars,2,mean)
with(mtcars,tapply(mpg,cyl,mean)
)
lapply(mtcars,mean)
tapply(mtcars$hp,mtcars$cyl,mean)
debug(ls)
ls
tapply(iris$Sepal.Length,iris$Species,mean)
